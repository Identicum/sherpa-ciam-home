{% extends "index.html" %}

{% block title %}Client Info for {{ env }} - {{ realm.realm }} - {{ client.clientId }}{% endblock %}

{% block content %}
<div class="container">
    <h1>Client Info for {{ env }} - {{ realm.realm }} - {{ client.clientId }}</h1>
    {% if client %}
    <table class="admin-links-table" style="max-width:700px;">
        <tbody>
            <tr><th>Client ID</th><td colspan="2">{{ client.clientId }}</td></tr>
            <tr><th>Name</th><td colspan="2">{{ client.name }}</td></tr>
            <tr><th>Status</th>
                <td colspan="2">
                    {% if client.enabled %}
                        <span title="Enabled" style="color:green;">&#x2714;</span>
                    {% else %}
                        <span title="Disabled" style="color:red;">&#x2716;</span>
                    {% endif %}
                </td>
            </tr>
            <tr><th>Description</th><td colspan="2">{{ client.description or '' }}</td></tr>
            <tr><th>Access Type</th>
                <td colspan="2">{% if client.publicClient %}
                        PUBLIC
                    {% else %}
                        CONFIDENTIAL
                    {% endif %}
                </td>
            </tr>
            <tr>
                <th>Flows</th>
                <td colspan="2">
                    <table>
                        <tr>
                            <td><strong>Flow Type</strong></td>
                            <td><strong>Status</strong></td>
                        </tr>
                        <tr>
                            <td>Standard Flow</td>
                            <td>{% if client.standardFlowEnabled %}<span style="color:green;">Enabled</span>{% else %}<span style="color:red;">Disabled</span>{% endif %}</td>
                        </tr>
                        <tr>
                            <td>Implicit Flow</td>
                            <td>{% if client.implicitFlowEnabled %}<span style="color:green;">Enabled</span>{% else %}<span style="color:red;">Disabled</span>{% endif %}</td>
                        </tr>
                        <tr>
                            <td>Direct Access Grants (ROPC)</td>
                            <td>{% if client.directAccessGrantsEnabled %}<span style="color:green;">Enabled</span>{% else %}<span style="color:red;">Disabled</span>{% endif %}</td>
                        </tr>
                        <tr>
                            <td>Service Accounts (client_credentials)</td>
                            <td>{% if client.serviceAccountsEnabled %}<span style="color:green;">Enabled</span>{% else %}<span style="color:red;">Disabled</span>{% endif %}</td>
                        </tr>
                    </table>
                </td>
            </tr>
            <tr><th>Root URL</th><td colspan="2">{{ client.rootUrl or '' }}</td></tr>
            <tr><th>Base URL</th><td colspan="2">{{ client.baseUrl or '' }}</td></tr>
            <tr><th>Redirect URIs</th><td colspan="2">{% if client.redirectUris %}<ul style="margin:0; padding-left:18px;">{% for uri in client.redirectUris %}<li>{{ uri }}</li>{% endfor %}</ul>{% else %}-{% endif %}</td></tr>
            <tr><th>Post Logout Redirect URIs</th>
                <td colspan="2">
                    {% if client.attributes and client.attributes['post.logout.redirect.uris'] %}
                        <ul style="margin:0; padding-left:18px;">
                        {% for uri in client.attributes['post.logout.redirect.uris'].split('##') %}
                            <li>{{ uri }}</li>
                        {% endfor %}
                        </ul>
                    {% else %}-{% endif %}
                </td>
            </tr>
            <tr><th>Web Origins</th><td colspan="2">{% if client.webOrigins %}<ul style="margin:0; padding-left:18px;">{% for origin in client.webOrigins %}<li>{{ origin }}</li>{% endfor %}</ul>{% else %}-{% endif %}</td></tr>
            <tr><th> </th><td><strong>Realm</strong></td><td><strong>Client</strong></td></tr>
            <tr><th>Access Token Lifespan</th><td>{{realm.accessTokenLifespan}}</td><td>{{client.attributes['access.token.lifespan'] if client.attributes and 'access.token.lifespan' in client.attributes else '(inherit from realm)'}}</td></tr>
            <tr><th>Client Session Idle</th><td>{{realm.clientSessionIdleTimeout}}</td><td>{{client.attributes['client.session.idle.timeout'] if client.attributes and 'client.session.idle.timeout' in client.attributes else '(inherit from realm)'}}</td></tr>
            <tr><th>Client Session Max</th><td>{{realm.clientSessionMaxLifespan}}</td><td>{{client.attributes['client.session.max.timeout'] if client.attributes and 'client.session.max.timeout' in client.attributes else '(inherit from realm)'}}</td></tr>
            <tr><th>SSO Session Idle Timeout</th><td>{{ realm.ssoSessionIdleTimeout }}</td><td> </td></tr>
            <tr><th>SSO Session Max Lifespan</th><td>{{ realm.ssoSessionMaxLifespan }}</td><td> </td></tr>
        </tbody>
    </table>
    {% else %}
        <p>No client data found.</p>
    {% endif %}
</div>
{% endblock %}
